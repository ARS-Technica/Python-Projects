"""
Regular Expression Example Generator

A collection of functions that will eventually be incorporated into
the larger Regular Expression Editor, first as functions, then as a
class.

The purpose of these functions is to return an example of a text string
that a simple regular expression entered by the user might find if it were
to be applied to a document.

Inputs:
    pattern (str): A regular expression.

Outputs:
    str: A generated example string matching the pattern.
"""


import tkinter as tk
from tkinter import ttk
import rstr
import re


def auto_generate_sample():
    """
    Automatically generate a sample if the sample input box is empty.

    - Reads the regex pattern from the regex_input text widget.
    - Checks the sample_input text widget.
    - If sample_input is empty and a regex is provided, generates one or more
        sample strings using `generate_samples_from_regex`.
    - Inserts the generated sample(s) into the sample_input widget.
    """

    pattern = regex_input.get("1.0", "end-1c").strip()
    sample = sample_input.get("1.0", "end-1c").strip()

    if not sample and pattern:
        generated = generate_sample_from_regex(pattern)
        sample_input.delete("1.0", "end")
        sample_input.insert("1.0", generated)


def generate_sample_from_regex(pattern: str, max_attempts=5) -> str:
    """
    Generate example matching text for the given regex pattern.
    If generation fails, returns an empty string.

    Args:
        pattern (str): The regex pattern to generate a sample from.
        max_attempts (int): Number of attempts to try generating a valid sample.

    Returns:
        str: A string matching the regex pattern.
             Returns "[Invalid regex]" if the pattern is invalid.
             Returns "[Unable to generate sample]" if no valid string could be generated.
    """
  
    pass


def create_window():
    # Tkinter GUI setup
    root = tk.Tk()
    root.title("Regex Sample Generator")

    # Regex input field

    # Sample output field

    # Button to generate

    # Expand window with resizing

    root.mainloop()


if __name__ == "__main__":
    # Run the application
    create_window()
